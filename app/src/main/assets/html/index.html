
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!-- saved from url=(0032)http://localhost:8080/jsandroid/ -->  
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=gb2312">  
  
<meta http-equiv="Expires" content="0">  
<meta http-equiv="Pragma" content="no-cache">  
<meta http-equiv="Cache-Control" content="no-store,no-cache">   
<meta name="Handheldfriendly" content="true">  
<meta name="viewport" content="width=100%; initial-scale=1.0; user-scalable=yes">  
<meta name="robots" content="all">  
<meta name="keywords" contect="doodle, mobile, doodlemobile, game, games">  
<title>jsandroid_test</title>

    <script type="text/javascript" language="javascript" src="jquery-1.7.1.min.js"></script>
    <script type="text/javascript" language="javascript" src="test.js"></script>
<script type="text/javascript" language="javascript">
    function showHtmlcallJava(){
        //var str = window.jsObj.HtmlcallJava();
		var str = 'http://m.qianft.com/Activity/IncreaseInterest/Index.html';
		var title = '加息券活动';
		var description = '通投息增， 只挣朝夕';
		var imageUrl = 'http://wx.qlogo.cn/mmopen/8S0vfFbrRlKHNXfficcaOXo5DIfbCfictHssTA6scqtbUicT5uJg2gzEJ7k7rNh7ZDyJVLmT7hQicibvuo8UYt8fYbdcdiawfGTNqV/';
		window.jsObj.share_To_Wechat_android(str, title, description, imageUrl);
		//var json = "{}";
		//window.jsObj.Js_Invoke_Android_Main_Interface("share_To_Wechat_android", json);
        //alert(str);  
    }  
      
    function showHtmlcallJava2(){  
        var str = window.jsObj.HtmlcallJava2(" blog");  
        alert(str);  
    }  
      
    function showFromHtml(){  
        document.getElementById("id_input").value = "Java call Html";  
    }  
      
    function showFromHtml2( param ){  
        document.getElementById("id_input2").value = "Java call Html : " + param;   
    } 
	//在android代码中调用的方法
	 function showInfoFromJava(msg, uid, openid){
		alert("来自客户端的信息："+msg + " uid: " + uid + " openid: "+ openid);
	  }

	  function showInfoFromJava2(msg1, msg2){
        alert("来自客户端的信息："+msg1 + "   msg2: " + msg2);
    }

	function alertMessage(message) {
        alert(message)
    }

	 /* This function is invoked by the activity */ 
	function wave(jsonText) { 
		document.getElementById("output").innerHTML="userinfo："+jsonText.name; 
		alert("2"); 
	} 

	function takePhoto(){
		var path = "Qianft";
		var picName = "wwwww";
        window.jsObj.takePhoto_android("Qianft", "wwwww");  
        alert("123");  
    }
	//var imageUrl = "";
	//var savePathDir  = "";
	//var picFileName = "";
	//window.jsObj.downloadPicture(imageUrl, savePathDir, picFileName);
	function starVideoPlayActivity_js() {
		var url = "file:///android_asset/html/index_2.html";
		window.jsObj.loginWechat_android();
	}

	var json_auth = "{'callback':'result', 'cancel':'cancel'}";
	function wechat_Auth_Login_js() {
		//var url = "file:///android_asset/html/index_2.html";
		//var userid = "111222";
		//window.jsObj.wechat_Auth_Login_android(userid);
		//alert("hello world");
		window.jsObj.Js_Invoke_Android_Main_Interface("wechat_Auth_Login_android", json_auth); 

	}

	function result(json) {
		var obj = eval(json);
		alert("fffffff  " + json.errCode  + " errMsg: " + json.errMsg + " ref : " + json.ref.userVersionCode);
	}

	function cancel(json) {
		var obj = eval(json);
		alert("cancelCode  " + json.errCode  + " errMsg: " + json.errMsg );
	}

	var text = "{'java':'hello java','C++':'hello C++','PHP':'hello PHP','callback':'failure'}";
	
	function callAndroid_js() {

		 window.jsObj.Js_Invoke_Android_Main_Interface('HtmlcallJava2', text);
		//eval("var obj = " + window.jsObj.HtmlcallJava2(text, "failure"));
		//alert('typeof:'+typeof(obj)); 
		//alert('success:'+obj); 
		//alert('obj:'+obj);
		//window.jsObj.HtmlcallJava2(text, "failure");
	}

	function failure(json) {
		var obj = eval(json);
		
		alert("fffffff" + json.success  + "  failure: " + json.failure);
		eval("alert('fffffffeeeee')");
	}
	var json_info = "{'callback':'result', 'cancel':'cancel'}";
	function callAndroid_js_appinfo() {

		 window.jsObj.Js_Invoke_Android_Main_Interface('getUserAPPInfo_android', json_info);
		//eval("var obj = " + window.jsObj.HtmlcallJava2(text, "failure"));
		//alert('typeof:'+typeof(obj)); 
		//alert('success:'+obj); 
		//alert('obj:'+obj);
		//window.jsObj.HtmlcallJava2(text, "failure");
	}

	//var result = document.getElementById("result"); 
	//var input = document.getElementById("file_input"); 
	//input.addEventListener('change',readFile,false);
	function startGesturePasswordSetup_js_()  {
		alert("hello gesture");
		window.jsObj.startGesturePasswordSetup_android();

	}
	function isSettingGesturePSW_js() {
		var json  = "{'callback':'result_s'}";
		 window.jsObj.isSettingGesturePSW_android(json);
	}
	function result_s(json) {
		var obj = eval(json);
		alert("result: " + obj);
		//alert("result: " + JOSN.stringify(obj));
	}
	function ChangeGesturePSW_js() {
	    alert(1111);
		 window.jsObj.changeGesturePassword_android();
	}

	function getSumValue() {

		return "true";

	}

	function Js_Invoke_Android_Main_Interface(method, json) {
	    if (!json)
	      json  = "{'callback':'result_s', 'token':'1111111111111111111111', 'expireTime':'result_s'}";
	    window.jsObj.Js_Invoke_Android_Main_Interface(method, json);
	    alert(1);
	    //add();
	}

	//private String mAddress = "http://192.168.0.88:8011/";
</script>  
</head>   
  
<body>
  
<br>  
<input type="button" value="分享" onclick="showHtmlcallJava()" /> 
<br>  
<input type="button" value="授权登录" onclick="wechat_Auth_Login_js()" />   
<br> 
<input type="file" accept="image/*" />  
<img src="/storage/emulated/0/qianfutong_2.png" width="50" height="50" />
<p> 
   <label>请选择一个图像文件：</label> 
   <input type="file" id="file_input" value="打开文件"/> 
</p>  
<div id="result"></div> 
<br> 
<input type="button" value="微信登录" onclick="showHtmlcallJava2()" />    
<br>   
<input id="id_input" style="width: 90%" type="text" value="null" />  
<br>  
<input type="button" value="AndroidcallHtml" onclick="window.jsObj.JavacallHtml()" />    
<br>     
<input id="id_input2" style="width: 90%" type="text" value="null" />  
<br>  
<input type="button" value="AndroidcallHtml2" onclick="window.jsObj.JavacallHtml2()" />  

<br>
<div id="output" >userinfo: </div><br/>
 <input type="submit" value="request: " onclick="window.jsObj.clickOnAndroid()"/>
<br>
<input type="button" value="打开摄像头" onclick="takePhoto()" />   
<br> 
<input type="button" value="下载图片" onclick="starVideoPlayActivity_js()" />  

<input type="button" value="CallAndroid" onclick="callAndroid_js()" />
<input type="button" value="CallAndroidAppInfo" onclick="callAndroid_js_appinfo()" />
<br>
<input type="button" value="设置手势解锁" onclick="startGesturePasswordSetup_js_()" />
<input type="button" value="是否已经设置手势解锁" onclick="isSettingGesturePSW_js()" />
<br>
<input type="button" value="更改手势解锁" onclick="ChangeGesturePSW_js()" />
<br/>
<input type="button" id="mainAndroid" value="设置token" onclick="Js_Invoke_Android_Main_Interface('setToken_android')"/>
<br/>
<input type="button"  value="清空token" onclick="Js_Invoke_Android_Main_Interface('clearToken_android')"/>
</body>
</html>  

